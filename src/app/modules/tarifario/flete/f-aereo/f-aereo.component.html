<link rel="stylesheet" href="https://unpkg.com/ngx-bootstrap/datepicker/bs-datepicker.css">

<nav class="navbar sticky-top navbar-light bg-light navbar-expand-lg">
  <ul class="navbar-nav">
    <li class="nav-item active">
      <a class="nav-link">Flete aereo</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" routerLink="/flete" routerLinkActive="router-link-active">
        Principal
      </a>
    </li>
  </ul>
</nav>

<div class="container-fluid mt-5">

  <div class="tab-pane" id="tabtwo" role="tabpanel">

    <div class="py-3">
      <div class="container-fluid">
        <h6>ORIGEN</h6>
        <div class="row">

          <div class="col-md-6 ">
            <span class="font-weight-bold">PAIS</span>
            <div class="input-group input-group-sm">
              <input [(ngModel)]="pais_origen_selected" [typeahead]="pais_origen" [typeaheadScrollable]="true"
                [typeaheadOptionsInScrollableView]="5" class=" form-control  input-group input-group-sm" autofocus>
            </div>
          </div>

          <div class="col-md-6">
            <span class="font-weight-bold">AEROPUERTO</span>
            <div class="input-group input-group-sm">
              <input [(ngModel)]="aereopuerto_origen_selected" [typeahead]="aereopuerto_origen"
                [typeaheadScrollable]="true" [typeaheadOptionsInScrollableView]="5"
                class=" form-control  input-group input-group-sm">
            </div>
          </div>
        </div>
        <h6 class="mt-3">DESTINO</h6>
        <div class="row">
          <div class="col-md-6">
            <span class="font-weight-bold">PAIS</span>
            <div class="input-group input-group-sm">
              <input [(ngModel)]="pais_destino_selected" [typeahead]="pais_destino"
                class=" form-control  input-group input-group-sm">
            </div>
          </div>

          <div class="col-md-6">
            <span class="font-weight-bold">AEROPUERTO</span>
            <div class="input-group input-group-sm">
              <input [(ngModel)]="aereopuerto_destino_selected" [typeahead]="aereopuerto_destino"
                class=" form-control  input-group input-group-sm">
            </div>
          </div>

        </div>

        <!-- TABLA -->

        <table class="table table-sm table-bordered  rounded mt-5">
          <thead class="text-dark bg-gray">
            <tr>
              <th>AGENTE</th>
              <th>AEROLINEA</th>
              <th>CARGA</th>
              <th>TARIFA</th>
              <th>MONEDA</th>
              <th>FS</th>
              <th>SC</th>
              <th>RECARGOS</th>
              <th>T/T (d√≠as)</th>
              <th>RUTA</th>
              <th>FRECUENCIA</th>
              <th>OBS.</th>
              <th>VIGENCIA</th>
              <th></th>
            </tr>
          </thead>

          <!-- reg es el valor del objeto / regs es el [] -->
          <tbody>
            <tr *ngFor="let faereo of faereos ; let i = index">

              <!-- AGENTE -->
              <td>
                <div class="input-group input-group-sm">
                  <input [(ngModel)]="agente_selected" [typeahead]="agente"
                    class=" form-control  input-group input-group-sm">
                </div>
              </td>

              <!-- aerolinea -->
              <td>
                <div class="input-group input-group-sm">
                  <select class="selectpicker  form-control">

                    <option *ngFor='let aerolinea of aerolineas'>{{aerolinea}}</option>
                  </select>
                </div>
              </td>

              <!-- TIPO DE CARGA -->

              <td>
                <div class="input-group input-group-sm">
                  <select class="selectpicker  form-control">

                    <option *ngFor='let tipocarga of tipocargas'>{{tipocarga}}</option>
                  </select>
                </div>
              </td>

              <!-- TARIFA * RANGO -->

              <td>

                <div class="col-md-2">
                  <div class="input-group input-group-sm text-center">
                    <button type="button" class=" btn btn-primary btn-sm" data-toggle="modal"
                      data-target="#tarifaxfleteModal" (click)="showtarifaxfleteModal()">
                      <i class="fa fa-eye"></i>
                    </button>
                  </div>

                </div>

              </td>

              <!-- MONEDA -->

              <td>
                <div class="input-group input-group-sm">
                  <select class="form-control form-control-sm" [(ngModel)]="faereos.currencies">
                    <option *ngFor="let item of currencies" value="{{item.code}}">{{item.description}}</option>
                  </select>
                </div>
              </td>


              <!-- septima celda    fs -->
              <td>
                <div class="input-group input-group-sm">
                  <input type="text" class="form-control">
                </div>
              </td>

              <!-- sc -->

              <td>
                <div class="input-group input-group-sm">
                  <input type="text" class="form-control">
                </div>
              </td>

              <!-- RECARGos -->

              <td>

                <div class="col-md-2">
                  <div class="input-group input-group-sm text-center">
                    <button type="button" class=" btn btn-primary btn-sm" data-toggle="modal"
                      data-target="#otrosrecargosModal" (click)="showotrosrecargosModal()">
                      <i class="fa fa-eye"></i>
                    </button>
                  </div>

                </div>

              </td>
              <!-- t/t/ dias -->

              <td>
                <div class="input-group input-group-sm">
                  <input type="text" class="form-control" (input)="carData = deleteInputStream($event)">
                </div>
              </td>

              <!-- ruta -->

              <td>
                <div class="input-group input-group-sm">
                  <input type="text" class="form-control">
                </div>
              </td>

              <!-- frecuencia -->

              <td>
                <div class="input-group input-group-sm">
                  <input type="text" class="form-control">
                </div>
              </td>
              <!-- observaciuones -->

              <td>
                <div class="input-group input-group-sm  d-flex justify-content-center">
                  <button type="button" class=" btn btn-primary btn-sm" data-toggle="modal"
                    data-target="#observacionModal" (click)="showobsModal()">
                    <i class="fa fa-eye"></i>
                  </button>
                </div>
              </td>

              <!-- VIGENCIA -->
              <td>
                <div class="input-group input-group-sm">
                  <input class="form-control" #dp="bsDaterangepicker" bsDaterangepicker [minDate]="minDate"
                    [bsConfig]="{ dateInputFormat: 'DD-MM-YYYY', containerClass: 'theme-red' }"
                    (keydown.enter)="newRow()" placement="left">
                </div>
              </td>

              <!-- boton nuevo registro -->
              <td *ngIf="i>0">
                <div class="col-auto">
                  <button type="submit" class="btn btn-danger btn-sm" (click)="deleteRow(i)">
                    X
                  </button>
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>

<!-- Modal -->
<div class="modal fade" [class.show]="show" id="observacionModal" tabindex="-1" role="dialog"
  aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">
          Observaciones
        </h5>
        <button type="button" class="close " data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <div class="input-group">
            <textarea type="text" class="form-control" name="deploymentName" id="deploymentName"
              [(ngModel)]="deploymentName" placeholder autofocus autocomplete="off"></textarea>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">
          Close
        </button>
        <button type="button" class="btn btn-primary">
          Save changes
        </button>
      </div>
    </div>
  </div>
</div>

<!-- Modal TARIFA -->
<div class="modal   fade  " [class.show]="show" id="tarifaxfleteModal" tabindex="-1" role="dialog"
  aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">
          TARIFA
        </h5>
        <button type="button" class="close " data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="row mt-3">
          <div class="col-md-12">
            <!-- efecto fondo rojo y bordes visible -->
            <table class="table table-sm table-bordered  rounded">
              <thead class="text-dark">
                <tr>
                    <th>FACTOR</th>
                    <th [hidden]="Rangoparakg !=='15'">MAYOR A</th>
                    <th [hidden]="Rangoparakg !=='15'">MENOR A</th>

                  <th>TARIFA</th>
                </tr>
              </thead>
              <!-- reg es el valor del objeto / regs es el [] -->
              <tbody>
                <!-- <tr *ngFor="let carga of cargas ; let i = index"> -->
                <tr *ngFor="let rango of rangos">
                  <td>
                    <div class="input-group input-group-sm">
                      <input type="text" class="form-control input-group input-group-text input-group-sm"
                        value={{rango.rango}} disabled>
                    </div>
                  </td>

                  <!-- primer celda -->
                  <td>
                    <div class="input-group input-group-sm">

                      <input type="text" class="form-control input-group input-group-sm">
                    </div>
                  </td>



                </tr>
              </tbody>
            </table>

          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">
          Close
        </button>
        <button type="button" class="btn btn-primary">
          Save changes
        </button>
      </div>
    </div>
  </div>
</div>





<div class="modal   fade  " [class.show]="showorecargos" id="otrosrecargosModal" tabindex="-1" role="dialog"
  aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">
          TARIFA
        </h5>
        <button type="button" class="close " data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="row mt-3">
        <!-- efecto fondo rojo y bordes visible -->
            <table class="table table-sm table-bordered  rounded">
              <thead class="text-dark bg-gray">
                <tr>
                  <th>CONCEPTO</th>
                  <th>CONCEPTO</th>
                  <th>CONCEPTO</th>
                  <th>TARIFA</th>
                </tr>
              </thead>


              <tbody>
                <tr>
                  <td>
                    <div class="input-group input-group-sm">
                      <input type="text" class="form-control input-group input-group-sm" autofocus>
                    </div>
                  </td>

                  <!-- tarifa -->
                  <td>
                    <!-- <td  *ngFor="let item of items"> -->
                    <div class="input-group input-group-sm">

                      <input type="text" class="form-control input-group input-group-sm">
                    </div>
                  </td>


                  <!-- <button type="button" (click)="append()">Add Another Component></button> -->



                </tr>
              </tbody>
            </table>

      </div>
    </div>
    <div class="modal-footer">
      <button type="button" class="btn btn-secondary" data-dismiss="modal">
        Close
      </button>
      <button type="button" class="btn btn-primary">
        Save changes
      </button>
    </div>
  </div>
</div>
</div>
