<link rel="stylesheet" href="https://unpkg.com/ngx-bootstrap/datepicker/bs-datepicker.css">


<nav class="navbar sticky-top navbar-light bg-light navbar-expand-lg">
  <ul class="navbar-nav">
    <li class="nav-item active">
      <a class="nav-link">Flete maritimo (fcl)</a>
    </li>
    <li class="nav-item">
      <a
        class="nav-link"
        routerLink="/flete"
        routerLinkActive="router-link-active"
        >Principal</a
      >
    </li>
  </ul>
</nav>

<div class="container-fluid mt-5">

<div class="tab-pane" id="tabtwo" role="tabpanel">

    <div class="py-3">
        <div class="container-fluid">
            <h6>ORIGEN</h6>
            <div class="row">

                <div class="col-md-6 ">
                    <span class="font-weight-bold">PAIS</span>
                    <div class="input-group input-group-sm">
                        <input [(ngModel)]="pais_origen_selected" [typeahead]="pais_origen"
                            class=" form-control  input-group input-group-sm">
                    </div>
                </div>

                <div class="col-md-6">
                    <span class="font-weight-bold">PUERTO</span>
                    <div class="input-group input-group-sm">
                        <input [(ngModel)]="puerto_origen_selected" [typeahead]="puerto_origen"
                            class=" form-control  input-group input-group-sm">
                    </div>
                </div>
            </div>
            <h6 class="mt-3">DESTINO</h6>
            <div class="row">
                <div class="col-md-6">
                    <span class="font-weight-bold">PAIS</span>
                    <div class="input-group input-group-sm">
                        <input [(ngModel)]="pais_destino_selected" [typeahead]="pais_destino"
                            class=" form-control  input-group input-group-sm">
                    </div>
                </div>

                <div class="col-md-6">
                    <span class="font-weight-bold">PUERTO</span>
                    <div class="input-group input-group-sm">
                        <input [(ngModel)]="puerto_destino_selected" [typeahead]="puerto_destino"
                            class=" form-control  input-group input-group-sm">
                    </div>
                </div>

            </div>

            <!-- TABLA -->

            <table class="table table-sm table-bordered  rounded mt-5">
                <thead class="text-dark bg-gray">
                    <tr>
                        <th>AGENTE</th>
                        <th>NAVIERA</th>
                        <th>CARGA</th>
                        <th>TARIFA</th>
                        <th>MONEDA</th>
                        <th>RECARGOS</th>
                        <th>T/T (d√≠as)</th>
                        <th>RUTA</th>
                        <th>FRECUENCIA</th>
                        <th>CONDICIONES</th>
                        <th>OBS</th>
                        <th>FECHA</th>
                        <th></th>
                    </tr>
                </thead>

                <!-- reg es el valor del objeto / regs es el [] -->
                <tbody>
                    <tr *ngFor="let fmaritimofcl of fmaritimofcls ; let i = index">

                        <!--  AGENTE -->
                        <td>
                            <div class="input-group input-group-sm">
                                <input [(ngModel)]="agente_selected" [typeahead]="agente"
                                    class=" form-control  input-group input-group-sm">
                            </div>
                        </td>

                        <!--  NAVIERA -->
                        <td>
                            <div class="input-group input-group-sm">
                                <select class="selectpicker  form-control">

                                    <option *ngFor='let naviera of navieras'>{{naviera}}</option>
                                </select>
                            </div>
                        </td>

                        <!--  TIPO DE CARGA -->

                        <td>
                            <div class="input-group input-group-sm">
                                <select class="selectpicker  form-control">

                                    <option *ngFor='let tipocarga of tipocargas'>{{tipocarga}}</option>
                                </select>
                            </div>
                        </td>


                            <!-- TARIFA * CONTENEDOR -->

                            <td>

                                <div class="col-md-2">
                                    <div class="input-group input-group-sm text-center">
                                        <button
                                            type="button"
                                            class=" btn btn-primary btn-sm"
                                            data-toggle="modal"
                    data-target="#tarifaxcontenedorModal"
                                            (click)="showtarifaxcontenedorModal()"
                                        >
                                            <i class="fa fa-eye"></i>
                                        </button>
                                    </div>

                                </div>

                            </td>

                        <!--  MONEDA -->
                        <td>
                          <div class="input-group input-group-sm">
                              <select class="form-control form-control-sm" [(ngModel)]="fmaritimofcls.currencies">
                                  <option *ngFor="let item of currencies" value="{{item.code}}">{{item.description}}</option>
                                </select>
                          </div>
                      </td>


                        <!-- septima celda  OTROS REGARGOS -->
                        <td>
                            <div class="input-group input-group-sm">
                                <input type="text" class="form-control">
                            </div>
                        </td>

                        <!-- t/t dias -->

                        <td>
                            <div class="input-group input-group-sm">
                                <input type="text" class="form-control">
                            </div>
                        </td>

                        <!-- ruta -->


                        <td>
                            <div class="input-group input-group-sm">
                                <input type="text" class="form-control">
                            </div>
                        </td>



                        <!-- fecuencia -->

                        <td>
                            <div class="input-group input-group-sm">
                                <input type="text" class="form-control">
                            </div>
                        </td>

                        <!-- condiciones -->

                        <td>
                            <div class="input-group input-group-sm">
                                <input type="text" class="form-control">
                            </div>
                        </td>

                             <!-- observaciuones -->


                             <td>
                                <div class="input-group input-group-sm  d-flex justify-content-center">
                                    <button
                                        type="button"
                                        class=" btn btn-primary btn-sm"
                                        data-toggle="modal"
                                        data-target="#observacionModal"
                                        (click)="showobsModal()"
                                    >
                                    <i class="fa fa-eye"></i>
                                    </button>
                                </div>
                            </td>

                        <!-- VIGENCIA -->
                        <td>
                            <div class="input-group input-group-sm">
                                <input class="form-control" #dp="bsDaterangepicker" bsDaterangepicker
                                    [minDate]="minDate"
                                    [bsConfig]="{ dateInputFormat: 'DD-MM-YYYY', containerClass: 'theme-red' }"
                                    (keydown.enter)="newRow()">
                            </div>
                        </td>

                        <!-- boton nuevo registro -->
                        <td *ngIf="i>0">
                            <div class="col-auto">
                                <button type="submit" class="btn btn-danger btn-sm" (click)="deleteRow(i)">
                                    X</button>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
</div>


<!-- Modal -->
<div class="modal fade" [class.show]="show" id="observacionModal" tabindex="-1" role="dialog"
aria-labelledby="exampleModalLabel"
 aria-hidden="true">
	<div class="modal-dialog modal-lg" role="document">
		<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title" id="exampleModalLabel">Observaciones</h5>
				<button type="button" class="close " data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
			</div>
			<div class="modal-body">
				<div class="form-group">
					<div class="input-group">
						<textarea type="text" class="form-control" name="deploymentName" id="deploymentName" [(ngModel)]="deploymentName" placeholder=""
						 autofocus autocomplete="off" ></textarea>
					</div>
				</div>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-secondary" data-dismiss="modal" >Close</button>
				<button type="button" class="btn btn-primary">Save changes</button>
			</div>
		</div>
	</div>
</div>




<!-- Modal TARIFA -->
<div
    class="modal   fade  "
    [class.show]="show"
    id="tarifaxcontenedorModal"
    tabindex="-1"
    role="dialog"
    aria-labelledby="exampleModalLabel"
    aria-hidden="true"
>
    <div
        class="modal-dialog modal-lg"
        role="document"
    >
        <div class="modal-content">
            <div class="modal-header">
                <h5
                    class="modal-title"
                    id="exampleModalLabel"
                >
                    TARIFA
                </h5>
                <button
                    type="button"
                    class="close "
                    data-dismiss="modal"
                    aria-label="Close"
                >
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="row mt-3">
                    <div class="col-md-12">
                        <!-- efecto fondo rojo y bordes visible -->
                        <table class="table table-sm table-bordered  rounded">
                            <thead class="text-dark bg-gray">
                                <tr>
                                    <th>RANGOS</th>
                                    <th>TARIFA</th>
                                </tr>

                            </thead>

                            <!-- reg es el valor del objeto / regs es el [] -->
                            <tbody>
                                <!-- <tr *ngFor="let carga of cargas ; let i = index"> -->
                                <tr *ngFor="let unidad of unidades">
                                    <td>
                                        <div class="input-group input-group-sm">
                                            <input
                                                type="text"
                                                class="form-control input-group input-group-text input-group-sm"
                                                value={{unidad.uni}}
                                                autofocus
                                            >
                                        </div>
                                    </td>

                                    <!-- primer celda -->
                                    <td>
                                        <div class="input-group input-group-sm">

                                            <input
                                                type="text"
                                                class="form-control input-group input-group-sm"
                                            >
                                        </div>
                                    </td>



                                </tr>
                            </tbody>
                        </table>

                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button
                    type="button"
                    class="btn btn-secondary"
                    data-dismiss="modal"
                >
                    Close
                </button>
                <button
                    type="button"
                    class="btn btn-primary"
                >
                    Save changes
                </button>
            </div>
        </div>
    </div>
</div>
